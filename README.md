
##### 微服务：

###### 什么是微服务： 
微服务是一种架构风格，将一个大项目拆分为多个小的、独立的微服务（功能单元）。
###### 传统单体大项目的缺点：
- 系统较大、较复杂，开发难度大
- 部署速度慢
- 难以升级、维护

###### 微服务的特点：
- 小：微服务是体积较小的功能单元，将一个大项目拆分为多个微服务。
- 独：服务都是独立的，运行在单独的JVM进程中，需要单独部署、维护，服务可以使用不同的编程语言来写，可以使用不同的数据库。每个服务往往都要做集群（节点数视该服务的访问量而定）。
- 轻：服务之间的通信机制是轻量级的
- 松：服务之间是松耦合的

###### 微服务的优点：
- 易于开发、维护，扩展性好
- 启动快，修改局部无需重新部署整个项目
- 技术栈不受限制
- 使用微服务时，可以针对性地设置集群大小，比如电商网站，商品、订单模块负载大，集群节点多些；积分模块负载小，集群节点少些。

###### 微服务的缺点：
- 要部署、维护多个服务（服务治理），运维难度加大。
- 单体应用使不使用分布式都行，微服务一般都要使用分布式，对开发人员的技术要求较高
- 调整接口成本高，需要同时修改调用它的其它微服务。
- 代码重复多。单体应用把要重复调用代码封装为工具类，项目中直接调用即可；每个微服务都是独立的，不能调用其它微服务中的类，需要把要用的类copy到要本服务中。
- 事务难度增加，要使用分布式事务。比如购买商品获赠积分，订单服务创建订单+积分服务增加积分，这是一个事务，但不在同一个应用中，使用事务难度增大。

##### 容器
###### 什么是容器：
容器就是将软件打包成标准化单元，以用于开发、交付和部署，是一种虚拟化解决方案，相对于传统虚拟机不同。传统的虚拟机是用中间层，将一台或多台独立的机器虚拟运行在硬件之上。而容器则是直接运行操作系统之上的用户空间，因此容器虚拟又被称为操作系统虚拟化。由于容器依赖于操作系统的特性，因此容器只能运行相同或相似内核的操作系统。
##### 容器和虚拟机的对比：

- 容器虚拟化的是操作系统而不是硬件，容器之间是共享同一套操作系统资源的。
- 虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统。因此容器的隔离级别会稍低一些。
- 容器是一个应用层抽象，用于将代码和依赖资源打包在一起。 多个容器可以在同一台机器上运行，共享操作系统内核，但各自作为独立的进程在用户空间中运行 。与虚拟机相比， 容器占用的空间较少（容器镜像大小通常只有几十兆），瞬间就能完成启动 。
- 容器和虚拟机的对比如图所示
![](https://github.com/yujiaweitobebetter/internship_yujiawei/blob/master/some%20image/vm%E5%92%8C%E5%AE%B9%E5%99%A8.png)

##### Docker
###### 什么是Docker:
Docker是一套完整的容器管理系统，Docker提供了一组命令，让用户更加方便直接地使用容器技术，而不需要过多关心底层内核技术。
##### Docker的三个基本概念:
- 镜像（Image）
- 容器（Container）
- 仓库（Repository）

 - 镜像：
镜像是容器构建的基石，是基于联合文件系统的一种层式结构由一系列指令构建，是一种轻量级、可执行的独立软件包，用于打包软件运行环境和基于运行环境开发的软件（代码、运行时、库、环境变量和配置文件）。Docker镜像是一个只读模板，它包含创建 Docker容器的说明。它和系统安装光盘有点像，使用系统安装光盘可以安装系统，同理，使用Docker镜像可以运行 Docker镜像中的程序。
 - 容器（container）：
Docker利用容器（container）独立运行的一个或者一组应用。容器是利用镜像创建的运行实例。可以把容器看做是一个简易版的Linux环境 (包括root用户名权限、进程空间、用户空间和网络空间等)和运行在其中的应用程序。
 - 仓库（repository）:
 是集中存放镜像文件的场所 。最大的公开仓库是docker hub存放了数量庞大的镜像供用户下载。
 
##### 总结：
- Docker本身是一个容器运行载体或者称之为管理引擎。我们把应用程序和配置依赖打包好形成一个可交付的运行环境，这个打包好的运行环境就叫image镜像文件。 只有通过这个镜像文件才能生成docker容器。image文件可以看做是容器的模板。 Docker根据image文件生成容器的实例。 同一个image文件，可以生成多个同时运行的容器实例。
- image文件生成的容器实例，本身也是一个文件，称为镜像文件；
- 一个容器运行一种服务，当我们需要的时候，就可以通过docker客户端创建一个对应的运行实例，也就是我们的容器；
- 至于仓库，就是放了一堆镜像的地方，我们可以把镜像发布到仓库中，需要的时候从仓库中拉下来就可以了。
- 一句话：去仓库将镜像拉取到本地，然后使用一条命令将镜像运行起来，变成容器。

##### Docker架构图：

